# Copyright 2024-2025 HNU-ESNL: Guoqi Xie, Chenglai Xiong, Xingyu Hu and etc.
# Copyright 2024-2025 openEuler SIG-Zephyr
# SPDX-License-Identifier: Apache-2.0

menuconfig ENABLE_ZVM_DEVICE_SUPPORT
	bool "Zephyr Based Virtualization Device Menu"
	default y
	help
		Enable support for Zephyr-based virtualization devices.
if ENABLE_ZVM_DEVICE_SUPPORT

config ENABLE_VIRT_DEVICE_INTERRUPT_DRIVEN
	bool "ZVM Virtualization Device Interrupt Support"
	default y
	help
		Enable interrupt support for ZVM virtualization devices.
		This option must be selected to set the callback function
		when VM devices require interrupts.

config ENABLE_VM_VGICV3
	bool "VGICv3 Device Support"
	help
		Enable support for the VGICv3 device, which is used
		when setting up a VM.

if ENABLE_VM_VGICV3

config VM_VGICV3_INIT_PRIORITY
	int "VGICv3 Initialization Priority"
	default 52
	help
		Set the initialization priority for the VGICv3 device.
		This is evaluated at the POST_KERNEL level.

endif

config ENABLE_VM_VSERIAL
	bool "VM VSERIAL that get from vm."
	help
		This option is used for building memory that get from overlay.

if ENABLE_VM_VSERIAL

config VM_VSERIAL_INIT_PRIORITY
	int "VM virt serial init priority."
	default 53
	help
		When serial is init, it judge the initialization priority in POST_KERNLE.

config vserial_ctrl_BLOCK_INIT_PRIORITY
	int "VM virt serial ctrl block init priority."
	default 51
	help
		Initialization priority for the virtual serial control block in POST_KERNEL.

endif

endif
